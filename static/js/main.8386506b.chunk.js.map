{"version":3,"sources":["serviceWorker.js","js/pages/Home.js","js/elements/button.js","js/elements/input.js","js/helpers/Authentication.js","js/elements/message.js","js/pages/Login.js","js/pages/Register.js","js/routes.js","js/App.js","index.js"],"names":["Boolean","window","location","hostname","match","Home","props","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","react_default","a","createElement","token","Component","MyButton","className","onClick","text","Input","response","label","labelClass","push","input","key","uniqueKey","type","name","id","placeholder","Authentication","url","process","REACT_APP_API_URL","clientId","REACT_APP_CLIENT_ID","clientSecret","REACT_APP_CLIENT_SECRET","state","email","password","data","grant_type","client_id","client_secret","username","axios","post","then","res","catch","error","status","Message","$","animate","opacity","concat","message","require","config","Login","_this","errorLogin","errorMessage","bind","assertThisInitialized","signIn","setState","history","replace","_this2","auth","val","requestToken","value","undefined","access_token","refreshToken","refresh_token","inputEmail","elements_input","inputPassword","buttons","elements_button","react_router_dom","to","Register","passwordConfirm","birth","Date","errorRegister","getData","register","changeBirth","confirmPassword","date","_this3","date_of_birth","moment","format","title","inputName","inputPasswordConfirm","inputBirth","react_datepicker_min_default","onChange","selected","dateFormat","buttonRegister","buttonBack","PrivateRoutes","_ref","component","rest","objectWithoutProperties","isAuthenticated","react_router","pathname","Routes","path","exact","App","routes","ReactDOM","render","js_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8386506b.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { Component } from 'react';\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return <h1>{this.props.token}</h1>;\n    }\n}\n\nexport default Home;","import React, {Component} from 'react';\n\nclass MyButton extends Component {\n  render() {\n    return <button className={this.props.className} onClick={this.props.onClick}>{this.props.text}</button>;\n  }\n}\n\nexport default MyButton;","import React, {Component} from 'react';\n\nclass Input extends Component {\n  render() {\n  \tconst response = [];\n\n\tif (this.props.label) {\n\t\tconst label = <labe className={this.props.labelClass}>{this.props.label}</labe>\n\t\tresponse.push(label);\n\t}\n\tconst input =  <input \n\t\tkey={this.props.uniqueKey}\n    \ttype={this.props.type} \n    \tname={this.props.name} \n    \tid={this.props.id} \n    \tclassName={this.props.className} \n\t\tplaceholder={this.props.placeholder}\n    />; \n\tresponse.push(input);\n\n    return response;\n  }\n}\n\nexport default Input;","import axios from 'axios';\n\n\nclass Authentication {\n    constructor() {\n        this.url = process.env.REACT_APP_API_URL;\n        this.clientId = process.env.REACT_APP_CLIENT_ID;\n        this.clientSecret = process.env.REACT_APP_CLIENT_SECRET;  \n    }\n    \n    /** Verifica se o usuario está autenticado */\n    isAuthenticated (props) {\n        if (!props.location.state.token) { \n            return false;\n        }\n        return true;\n    }\n\n    /** Faz a requisição to token de acesso do usuário */\n    async requestToken(email, password) {\n        const data = {\n            grant_type: 'password',\n            client_id: this.clientId,\n            client_secret: this.clientSecret,\n            username: email,\n            password: password\n        }  \n        return await axios.post(this.url + '/o/token/', data)\n            .then(res => {\n                return res;\n            }).catch(error => {\n                return {\n                    status: error.response.status,\n                    data: error.response.data\n                }\n            });\n    }\n}\n    \nexport default Authentication; ","import React, {Component} from 'react';\nimport $ from 'jquery'; \n\nclass Message extends Component {\n\n    componentDidMount() {\n        $('#message').animate({opacity: 0}, 2500);\n    }\n\n    render() {\n        return <div \n            id='message' \n            className={\n                `message message--${this.props.type}`}\n            >\n            <strong>{this.props.message}</strong>\n            </div>\n    }\n}\n\nexport default Message;","import React, {Component} from 'react';\nimport Button from '../elements/button.js';\nimport Input from '../elements/input.js';\nimport $ from 'jquery'; \nimport { Link } from 'react-router-dom';\nimport Authentication from '../helpers/Authentication';\nimport Message from '../elements/message.js';\nrequire('dotenv').config()\n\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: '',\n      errorLogin: false\n    };\n    this.errorMessage = this.errorMessage.bind(this);\n    this.signIn = this.signIn.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.location.state) {\n      this.setState({\n        email: this.props.location.state.email,\n        password: this.props.location.state.password,\n        errorLogin: this.props.location.state.errorLogin\n      });\n    }\n    const { history } = this.props;\n    //use the state via location.state\n    //and replace the state via\n    history.replace()\n  }\n\n  /**\n   *  efetua o login\n   */\n  signIn() {\n    const auth = new Authentication();\n    const email = $('#email').val();\n    const password = $('#password').val();\n\n    const response = auth.requestToken(email, password);\n    response.then(value => {\n      let errorLogin = false;\n      if (value.data.error !== undefined) {\n        errorLogin = true; \n      }\n\n      this.props.history.replace(\n        '/home',\n        {\n          email: this.state.email,\n          password: this.state.password,\n          token: value.data.access_token,\n          refreshToken: value.data.refresh_token,\n          errorLogin: errorLogin \n        }\n      );\n    });\n  }\n\n  errorMessage() {\n    return <Message \n      message='Email ou senha incorretos, tente novamente'\n      type='error' \n    />\n  }\n\n  render() {\n    let inputClass = 'input'; \n    let errorMessage;\n    if (this.state.errorLogin) {\n      errorMessage = this.errorMessage();\n    }\n    let label = <h2 className='title'>Login</h2>\n  \tlet inputEmail = <div className=\"item\"><Input uniqueKey='email' type='text' name='email' id='email' className={inputClass} placeholder='Email...' /></div>;\n    let inputPassword = <div className=\"item\" ><Input uniqueKey='password' type='password' name='password' id='password' className={inputClass} placeholder='Senha...'/></div>;\n  \tlet buttons = <div className=\"item subgrid\">\n      <Button className='subgrid--item btn btn--success' text='Entrar' onClick={this.signIn}/>\n      <Link className='subgrid--item btn btn--primary' to=\"/register\">Cadastrar</Link>\n    </div>\n\n    return (\n      <div className='login-container-grid'>\n        {errorMessage}\n        <div className='panel grid-container'>\n          {label}\n          {inputEmail}\n          {inputPassword}\n          {buttons}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","import React, {Component} from 'react';\nimport Input from '../elements/input.js';\nimport Button from '../elements/button.js';\nimport $ from 'jquery';\nimport { Link } from 'react-router-dom'\nimport Message from '../elements/message.js';\nimport axios from 'axios'\nimport Authentication from '../helpers/Authentication';\nimport DatePicker from 'react-datepicker';\nimport moment from 'moment';\nimport 'react-datepicker/dist/react-datepicker.css';\nrequire('dotenv').config()\n\nclass Register extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tname: '',\n\t\t\tpassword: '',\n\t\t\tpasswordConfirm: '',\n\t\t\temail: '',\n\t\t\tbirth: new Date(),\n\t\t\terrorMessage: '',\n\t\t\terrorRegister: '',\n\t        url: process.env.REACT_APP_API_URL\n\t\t}\n\t\tthis.getData = this.getData.bind(this);\n\t\tthis.register = this.register.bind(this);\n\t\tthis.errorMessage = this.errorMessage.bind(this); \n\t\tthis.changeBirth = this.changeBirth.bind(this);\n\t}\n\t\n\tcomponentDidMount() {\n\t\tif (this.props.location.state) {\n\t\t\tthis.setState({\n\t\t\t\temail: this.props.location.state.email,\n\t\t\t\tname: this.props.location.state.name,\n\t\t\t\tpassword: this.props.location.state.password,\n\t\t\t\tconfirmPassword: this.props.location.state.confirmPassword,\n\t\t\t\tbirth: this.props.location.state.props,\n\t\t\t\terrorMessage: this.props.location.state.errorMessage,\n\t\t\t\terrorRegister: false\n\t\t\t});\n\t\t}\n\t\tconst { history } = this.props;\n\t\t//use the state via location.state\n\t\t//and replace the state via\n\t\thistory.replace()\n\t}\n\n\tchangeBirth(date) {\n\t\tthis.setState({\n\t\t\tbirth: date\n\t\t})\n\t}\n\n\tgetData() {\n\t\tthis.setState({\n\t\t\tname: $('#name').val(),\n\t\t\tpassword: $('#password').val(),\n\t\t\tconfirmPassword: $('#passwordConfirm').val(),\n\t\t\temail: $('#email').val(),\n\t\t\t// birth: this.state.birt\n\t\t\terrorMessage: '',\n\t\t\terrorRegister: false,\n\t\t}, () => this.register())\n\t}\n\n\tregister() {\n\t\tif (this.state.password !== this.state.confirmPassword) {\n\t\t\tthis.setState({\n\t\t\t\terrorRegister: true,\n\t\t\t\terrorMessage: 'As senhas precisam ser iguais'\t\t\t\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tconst data = {\n\t\t\tname: this.state.name,\n\t\t\tdate_of_birth: moment(this.state.birth).format('YYYY-MM-DD'),\n\t\t\temail: this.state.email,\n\t\t\tpassword: this.state.password\n\t\t}  \n\t\t\n\t\taxios.post(this.state.url + '/user/create', data)\n\t\t\t.then(res => {\n\t\t\t\tconst auth = new Authentication();\n\t\t\t\tconst response = auth.requestToken(\n\t\t\t\t\tres.data.email, \n\t\t\t\t\tthis.state.password\n\t\t\t\t);\n\n\t\t\t\tresponse.then(value => {\n\t\t\t\t\tthis.props.history.replace(\n\t\t\t\t\t\t'/home',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\temail: this.state.email,\n\t\t\t\t\t\t\tpassword: this.state.password,\n\t\t\t\t\t\t\ttoken: value.data.access_token,\n\t\t\t\t\t\t\trefreshToken: value.data.refresh_token,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t\n\t\t\t}).catch(error => {\n\t\t\t\tthis.setState({\n\t\t\t\t\terrorRegister: true,\n\t\t\t\t\terrorMessage:error.response.data['email'][0]\n\t\t\t\t});\n\t\t\t})\n\t}\n\n\terrorMessage() {\n\t\treturn <Message\n\t\t\tmessage={this.state.errorMessage}\n\t\t\ttype='error'\n\t\t/>\n\t}\n\n\trender() {\n\t\tlet errorMessage;\n\t\tif (this.state.errorRegister) {\n\t\t\terrorMessage = this.errorMessage();\n\t\t}\n\t\tconst title = <div className=\"item\"><h2 className='title'>Cadastre-se</h2></div>\n\t\tconst inputName = <div className=\"item\"><Input uniqueKey='name' type='text' name='name' id='name' className='input' placeholder='Informe seu nome...'/></div>;\n\t\tconst inputPassword = <div className=\"item\"><Input uniqueKey='password' type='password' name='password' id='password' className='input' placeholder='Informe sua senha...'/></div>;\n\t\tconst inputPasswordConfirm = <div className=\"item\"><Input uniqueKey='passwordConfirm' type='password' name='passwordConfirm' id='passwordConfirm' className='input' placeholder='Confirme sua senha...'/></div>;\n\t\tconst inputEmail = <div className=\"item\"><Input uniqueKey='email' type='text' name='email' id='email' className='input' placeholder='Informe seu email...'/></div>;\n\t\tconst inputBirth = <div className=\"item\"><DatePicker onChange={this.changeBirth} selected={this.state.birth} dateFormat=\"dd/MM/yyyy\" name='birth' id='birth' className='input' placeholder='Informe sua data de nascimento...'/></div>;\n\t\tconst buttonRegister= <Button className='item btn btn--success' text='Cadastrar' onClick={this.getData}/>\n\t\tconst buttonBack= <Link className='item btn btn--primary' to=\"/login\">Voltar</Link>\n\n\t\treturn (\n\t\t\t<div className=\"register-container-grid\">\n\t\t\t\t{errorMessage}\n\t\t\t\t<div className='panel grid-container'>\n\t\t\t\t\t{title}\n\t\t\t\t\t{inputName}\n\t\t\t\t\t{inputPassword}\n\t\t\t\t\t{inputPasswordConfirm}\n\t\t\t\t\t{inputEmail}\n\t\t\t\t\t{inputBirth}\n\t\t\t\t\t{buttonRegister}\n\t\t\t\t\t{buttonBack}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Register;","import React from 'react';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport Home from './pages/Home';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Authentication from './helpers/Authentication';\n\n/** Função para validar se o usuario tem acesso a rotas privadas  */\nfunction PrivateRoutes ({ component: Component, ...rest }) {\n    const authentication = new Authentication();\n    if (!authentication.isAuthenticated(rest)) {\n        return <Redirect \n            to={{\n                pathname:'/login',\n                state: rest.location.state\n            }}\n        />\n    }\n\n    return <Component {...rest} />\n}\n\nfunction Routes () {\n    return <BrowserRouter>\n        <Switch>\n            <Route path=\"/login\" exact={true} component={Login} />\n            <Route path=\"/register\" exact={true} component={Register} />\n            <PrivateRoutes path=\"/home\" exact={true} component={Home} />\n        </Switch>\n    </BrowserRouter>\n}\n\nexport default Routes;","import React, {Component} from 'react';\nimport Routes from './routes';\nimport '../styles/css/app.css';\n\nclass App extends Component {\n\n  render() {\n    return (\n      <div className='container'>\n        <div className='box'>\n        </div>\n         <Routes />\n      </div>\n    );\n  }\n}\n\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport App from './js/App';\n\nReactDOM.render(\n\t<App/>, document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}